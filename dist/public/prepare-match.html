<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Подготовка к матчу</title>
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="my-team.css"> <!-- Можно переиспользовать некоторые стили -->
    <link rel="icon" href="/favicon.png" type="image/png">
    <style>
        .preparation-container { max-width: 900px; margin: 20px auto; padding: 20px; background: #25314c; border-radius: 8px; color: #e0e0e0;}
        .bi-slots-container { display: flex; justify-content: space-around; margin-bottom: 30px; padding: 20px; background-color: #1e2a45; border-radius: 6px;}
        .bi-slot {
            width: 120px; height: 180px; border: 2px dashed #4a5a7d; border-radius: 8px;
            display: flex; align-items: center; justify-content: center; text-align: center;
            font-size: 0.9em; color: #8090b0; background-color: #2c3e50;
            position: relative; /* Для кнопки удаления */
        }
        .bi-slot.drag-over { border-color: #007bff; background-color: #34495e; }
        .bi-card-in-slot { width: 100%; height: 100%; padding: 5px; box-sizing: border-box; cursor: grab; }
        .bi-card-in-slot img { max-width: 80%; max-height: 100px; display: block; margin: 0 auto 5px auto; }
        .bi-card-in-slot p { margin: 2px 0; font-size: 0.8em; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
        .remove-bi-from-slot {
            position: absolute; top: -5px; right: -5px; background: red; color: white;
            border: none; border-radius: 50%; width: 20px; height: 20px;
            font-size: 12px; line-height: 18px; text-align: center; cursor: pointer; display: none;
        }
        .bi-slot .player-card-item-small:hover .remove-bi-from-slot { display: block; }


        .available-bi-cards h3 { margin-top: 0; }
        .available-bi-cards-list { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; max-height: 400px; overflow-y: auto; padding:10px; background: #1e2a45; border-radius:6px;}
        .available-bi-card-item {
            padding: 10px; background-color: #2c3e50; border: 1px solid #3a4a6d; border-radius: 6px;
            text-align: center; cursor: grab; font-size:0.8em;
        }
        .available-bi-card-item.assigned { opacity: 0.5; cursor: not-allowed; }
        .available-bi-card-item img { max-width: 100%; max-height: 70px; margin-bottom: 5px; }
        .start-match-btn-container { text-align: center; margin-top: 20px; }
        .available-bi-cards-list.drag-over-available {
            border: 2px dashed #28a745; /* Или другой цвет для подсветки */
            background-color: #2c3e50;
        }
    </style>
</head>
<body>
    <div class="preparation-container">
        <header class="page-header" style="justify-content:center;">
            <h1>Подготовка к матчу</h1>
        </header>
        
        <h3>Выберите до 3-х карт Big Impact:</h3>
        <div class="bi-slots-container">
            <div class="bi-slot" data-slot-index="0">Перетащите БИ карту</div>
            <div class="bi-slot" data-slot-index="1">Перетащите БИ карту</div>
            <div class="bi-slot" data-slot-index="2">Перетащите БИ карту</div>
        </div>

        <div class="available-bi-cards">
            <h3>Доступные Big Impact карты:</h3>
            <div id="availableBiCardsList" class="available-bi-cards-list">
                <p>Загрузка карт...</p>
            </div>
        </div>
        <p id="prepareMatchMessage" class="form-message"></p>
        <div class="start-match-btn-container">
            <button id="startMatchButton" class="btn btn-primary btn-action">Начать матч!</button>
            <a href="dashboard.html" class="btn btn-secondary" style="margin-left:10px;">Отмена</a>
        </div>
    </div>
    <script src="prepare-match.js"></script>
</body>
</html>
